bundle:
  name: databricks-job-executor-app

resources:
  apps:
    databricks_job_executor_app:
      name: dbx-job-executor-app
      description: Streamlit application for executing and monitoring Databricks migration jobs
      source_code_path: .
      app_config:
        command:
          - python
          - -m
          - streamlit 
          - run 
          - streamlit_app/app.py 
          - --server.port=8501
          - --server.address=0.0.0.0
          - --server.headless=true
          - --server.enableCORS=false
        env:
          - name: DATABRICKS_RUNTIME_ENV
            value: "app"
          - name: PYTHONPATH
            value: "/app"
          - name: DATABRICKS_BUNDLE_ENV
            value: ${bundle.environment}
targets:
  dev:
    default: true